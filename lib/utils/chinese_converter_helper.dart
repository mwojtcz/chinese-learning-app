/// Helper class for converting between Simplified and Traditional Chinese
class ChineseConverterHelper {
  // Map of common simplified → traditional characters (HSK 1-3 level)
  static final Map<String, String> _simplifiedToTraditional = {
    // Common characters
    '国': '國', '学': '學', '中': '中', '人': '人', '有': '有',
    '我': '我', '你': '你', '他': '他', '她': '她', '们': '們',
    '这': '這', '那': '那', '时': '時', '会': '會', '来': '來',
    '说': '說', '对': '對', '为': '為', '能': '能', '要': '要',
    '个': '個', '里': '裡', '还': '還', '话': '話', '没': '沒',
    '开': '開', '见': '見', '现': '現', '听': '聽', '觉': '覺',
    '吃': '吃', '饭': '飯', '东': '東', '西': '西', '买': '買',
    '卖': '賣', '钱': '錢', '块': '塊', '电': '電', '脑': '腦',
    '车': '車', '门': '門', '问': '問', '题': '題', '长': '長',
    '认': '認', '识': '識', '书': '書', '读': '讀', '写': '寫',
    '汉': '漢', '语': '語', '词': '詞', '叫': '叫', '号': '號',
    '码': '碼', '张': '張', '过': '過', '应': '應', '该': '該',
    '经': '經', '已': '已', '前': '前', '后': '後', '边': '邊',
    '两': '兩', '几': '幾', '岁': '歲', '间': '間', '点': '點',
    '钟': '鐘', '分': '分', '秒': '秒', '星': '星', '期': '期',
    '关': '關', '闭': '閉', '医': '醫', '院': '院', '药': '藥',
    '师': '師', '教': '教', '学': '學', '校': '校', '班': '班',
    '级': '級', '课': '課', '习': '習', '练': '練', '题': '題',
    '验': '驗', '试': '試', '考': '考', '查': '查', '找': '找',
    '给': '給', '让': '讓', '帮': '幫', '助': '助', '谢': '謝',
    '请': '請', '欢': '歡', '迎': '迎', '访': '訪', '问': '問',
    '答': '答', '复': '復', '回': '回', '带': '帶', '拿': '拿',
    '鸡': '雞', '鱼': '魚', '肉': '肉', '菜': '菜', '饺': '餃',
    '汤': '湯', '茶': '茶', '杯': '杯', '碗': '碗', '筷': '筷',
    '饿': '餓', '渴': '渴', '累': '累', '病': '病', '疼': '疼',
    '热': '熱', '冷': '冷', '暖': '暖', '凉': '涼', '风': '風',
    '雨': '雨', '雪': '雪', '云': '雲', '阴': '陰', '晴': '晴',
    '天': '天', '气': '氣', '温': '溫', '度': '度', '高': '高',
    '低': '低', '快': '快', '慢': '慢', '早': '早', '晚': '晚',
    '新': '新', '旧': '舊', '好': '好', '坏': '壞', '大': '大',
    '小': '小', '多': '多', '少': '少', '远': '遠', '近': '近',
    '贵': '貴', '便': '便', '宜': '宜', '难': '難', '易': '易',
    '简': '簡', '单': '單', '杂': '雜', '复': '複', '轻': '輕',
    '重': '重', '清': '清', '楚': '楚', '白': '白', '黑': '黑',
    '红': '紅', '绿': '綠', '黄': '黃', '蓝': '藍', '灰': '灰',
    '颜': '顏', '色': '色', '衣': '衣', '服': '服', '穿': '穿',
    '脱': '脫', '戴': '戴', '鞋': '鞋', '袜': '襪', '裤': '褲',
    '裙': '裙', '件': '件', '条': '條', '双': '雙', '顶': '頂',
    '头': '頭', '发': '髮', '脸': '臉', '眼': '眼', '睛': '睛',
    '耳': '耳', '朵': '朵', '鼻': '鼻', '嘴': '嘴', '齿': '齒',
    '牙': '牙', '舌': '舌', '手': '手', '脚': '腳', '腿': '腿',
    '体': '體', '身': '身', '心': '心', '爱': '愛', '想': '想',
    '思': '思', '念': '念', '忘': '忘', '记': '記', '得': '得',
    '懂': '懂', '知': '知', '道': '道', '明': '明', '亮': '亮',
    '暗': '暗', '灯': '燈', '火': '火', '光': '光', '影': '影',
    '照': '照', '相': '相', '机': '機', '器': '器', '具': '具',
    '用': '用', '处': '處', '所': '所', '从': '從', '到': '到',
    '往': '往', '向': '向', '进': '進', '出': '出', '入': '入',
    '上': '上', '下': '下', '左': '左', '右': '右', '前': '前',
    '后': '後', '内': '內', '外': '外', '旁': '旁', '侧': '側',
    '面': '面', '表': '表', '里': '裡', '层': '層', '楼': '樓',
    '房': '房', '屋': '屋', '家': '家', '住': '住', '宿': '宿',
    '馆': '館', '店': '店', '厅': '廳', '场': '場', '园': '園',
    '路': '路', '街': '街', '桥': '橋', '站': '站', '台': '臺',
    '船': '船', '飞': '飛', '行': '行', '走': '走', '跑': '跑',
    '坐': '坐', '站': '站', '躺': '躺', '睡': '睡', '醒': '醒',
    '起': '起', '床': '床', '办': '辦', '公': '公', '室': '室',
    '桌': '桌', '椅': '椅', '子': '子', '钢': '鋼', '笔': '筆',
    '纸': '紙', '本': '本', '袋': '袋', '包': '包', '箱': '箱',
    '盒': '盒', '瓶': '瓶', '罐': '罐', '只': '隻', '支': '支',
    '根': '根', '把': '把', '片': '片', '块': '塊', '份': '份',
    '种': '種', '样': '樣', '些': '些', '每': '每', '各': '各',
    '别': '別', '其': '其', '某': '某', '另': '另', '次': '次',
    '第': '第', '先': '先', '最': '最', '非': '非', '常': '常',
    '很': '很', '太': '太', '更': '更', '最': '最', '比': '比',
    '较': '較', '越': '越', '极': '極', '特': '特', '别': '別',
    '总': '總', '共': '共', '同': '同', '异': '異', '差': '差',
    '真': '真', '假': '假', '虚': '虛', '实': '實', '正': '正',
    '确': '確', '错': '錯', '对': '對', '错': '錯', '是': '是',
    '否': '否', '可': '可', '行': '行', '不': '不', '无': '無',
    '许': '許', '禁': '禁', '止': '止', '继': '繼', '续': '續',
    '始': '始', '终': '終', '完': '完', '成': '成', '功': '功',
    '败': '敗', '输': '輸', '赢': '贏', '胜': '勝', '负': '負',
    '平': '平', '等': '等', '级': '級', '类': '類', '种': '種',
    '品': '品', '质': '質', '量': '量', '数': '數', '字': '字',
    '号': '號', '码': '碼', '岁': '歲', '年': '年', '月': '月',
    '日': '日', '周': '週', '末': '末', '初': '初', '中': '中',
    '旬': '旬', '季': '季', '春': '春', '夏': '夏', '秋': '秋',
    '冬': '冬', '节': '節', '假': '假', '休': '休', '息': '息',
    '工': '工', '作': '作', '业': '業', '职': '職', '位': '位',
    '员': '員', '干': '幹', '部': '部', '队': '隊', '组': '組',
    '织': '織', '单': '單', '位': '位', '司': '司', '厂': '廠',
    '矿': '礦', '农': '農', '林': '林', '渔': '漁', '牧': '牧',
    '业': '業', '商': '商', '贸': '貿', '易': '易', '务': '務',
    '银': '銀', '金': '金', '财': '財', '产': '產', '资': '資',
    '源': '源', '力': '力', '量': '量', '率': '率', '效': '效',
    '益': '益', '利': '利', '润': '潤', '亏': '虧', '损': '損',
  };

  /// Convert simplified Chinese to traditional Chinese
  static String toTraditional(String simplified) {
    if (simplified.isEmpty) return simplified;
    
    final buffer = StringBuffer();
    for (int i = 0; i < simplified.length; i++) {
      final char = simplified[i];
      buffer.write(_simplifiedToTraditional[char] ?? char);
    }
    return buffer.toString();
  }

  /// Convert traditional Chinese to simplified Chinese
  static String toSimplified(String traditional) {
    if (traditional.isEmpty) return traditional;
    
    // Reverse map
    final traditionalToSimplified = <String, String>{};
    _simplifiedToTraditional.forEach((key, value) {
      traditionalToSimplified[value] = key;
    });
    
    final buffer = StringBuffer();
    for (int i = 0; i < traditional.length; i++) {
      final char = traditional[i];
      buffer.write(traditionalToSimplified[char] ?? char);
    }
    return buffer.toString();
  }

  /// Check if text contains traditional Chinese characters
  static bool isTraditional(String text) {
    final traditionalChars = _simplifiedToTraditional.values.toSet();
    return text.split('').any((char) => traditionalChars.contains(char));
  }
}
